<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ìƒì„¸ ì •ë³´ ë³´ê¸°</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    .img-preview {
      max-width: 100%;
      max-height: 400px;
      margin-bottom: 1rem;
      cursor: pointer;
      transition: transform 0.2s ease;
    }
    .img-preview:hover {
      transform: scale(1.05);
    }
    .table th {
      width: 30%;
    }
  </style>
</head>
<body class="bg-light">

<div class="container py-5">
  <h2 class="mb-4">ğŸ“‹ ì„¤ì¹˜í™•ì¸ì„œ ìƒì„¸ ì •ë³´</h2>

  <table class="table table-bordered bg-white">
    <tbody>
      <tr><th>ê¸°ê´€ëª…</th><td>{{ record.organization }}</td></tr>
      <tr><th>ì‚¬ì—…ëª…</th><td>{{ record.business_name }}</td></tr>
      <tr><th>ê³µê¸‰ì</th><td>{{ record.provider }}</td></tr>
      <tr><th>ë¶€ì„œ</th><td>{{ record.department }}</td></tr>
      <tr><th>ì„¤ì¹˜ì—…ì²´</th><td>{{ record.installer_company }}</td></tr>
      <tr><th>ì„¤ì¹˜ì</th><td>{{ record.installer_name }}</td></tr>
      <tr><th>ìš”ì²­ì</th><td>{{ record.requester }}</td></tr>
      <tr><th>ë‹´ë‹¹ì</th><td>{{ record.officer }}</td></tr>
      <tr><th>ì„¤ì¹˜ì‚¬ìœ </th><td>{{ record.install_reason }}</td></tr>
      <tr><th>ì„¤ì¹˜ì¼ì</th><td>{{ record.date }}</td></tr>
      <tr><th>ì„¤ì¹˜ ìœ„ì¹˜</th><td>{{ record.location_text }}</td></tr>
      <tr><th>ìœ„ë„/ê²½ë„</th><td>{{ record.latitude }}, {{ record.longitude }}</td></tr>
    </tbody>
  </table>

  <h5 class="mt-4">ğŸ“¸ ì„¤ì¹˜ ì‚¬ì§„</h5>
  <div class="row">
    {% for label, path in [
      ('ì„¤ì¹˜ ì „', record.before_image_path),
      ('VPN ì¸¡ì •', record.vpnspeed_image_path),
      ('ë¼ìš°í„° ì„¤ì¹˜', record.router_image_path),
      ('ì„¤ì¹˜ í›„', record.after_image_path),
      ('ì„¤ì¹˜ì ì„œëª…', record.installer_signature_path),
      ('í™•ì¸ì ì„œëª…', record.confirmer_signature_path)] %}
      {% if path %}
      <div class="col-md-4 mb-3 text-center">
        <p class="fw-bold">{{ label }}</p>
        <img src="{{ url_for('static', filename=path) }}" alt="{{ label }}" class="img-thumbnail img-preview" onclick="openModal('{{ url_for('static', filename=path) }}')">
      </div>
      {% endif %}
    {% endfor %}
  </div>

  <a href="{{ url_for('dashboard') }}" class="btn btn-secondary mt-3">â† ëª©ë¡ìœ¼ë¡œ</a>
</div>

<!-- ì´ë¯¸ì§€ í™•ëŒ€ ëª¨ë‹¬ -->
<div class="modal fade" id="imageModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-body text-center">
        <img src="" id="modalImage" class="img-fluid">
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
  function openModal(src) {
    const modal = new bootstrap.Modal(document.getElementById('imageModal'));
    document.getElementById('modalImage').src = src;
    modal.show();
  }
</script>

</body>
</html>
