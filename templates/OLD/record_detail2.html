<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì„¤ì¹˜ í™•ì¸ì„œ</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { font-family: "Malgun Gothic", sans-serif; background-color: #f9f9f9; }
    .doc-title { text-align: center; font-size: 24px; font-weight: bold; margin: 30px 0; }
    .section-title { background: #e9ecef; font-weight: bold; text-align: center; }
    table { width: 100%; margin-bottom: 20px; }
    th, td { border: 1px solid #333; padding: 8px; }
    .img-box { text-align: center; margin-top: 30px; }
    .img-box img { max-width: 100%; max-height: 400px; margin-bottom: 15px; border: 1px solid #ddd; }
    .signature-box img { height: 80px; border: 1px solid #aaa; }
    .btn-back { margin-top: 30px; }
  </style>
</head>
<body>

<div class="container bg-white p-4 shadow-sm">

  <div class="doc-title">ğŸ“„ ì„¤ì¹˜ í™•ì¸ì„œ</div>

  <!-- 1. ê¸°ë³¸ ì •ë³´ -->
  <table class="table table-bordered">
    <tr class="section-title"><td colspan="4">1. ì„¤ì¹˜ì / ìš”ì²­ì ì •ë³´</td></tr>
    <tr>
      <th>ê¸°ê´€ëª…</th><td>{{ record.organization }}</td>
      <th>ì‚¬ì—…ëª…</th><td>{{ record.business_name }}</td>
    </tr>
    <tr>
      <th>ê³µê¸‰ì</th><td>{{ record.provider }}</td>
      <th>ë¶€ì„œ</th><td>{{ record.department }}</td>
    </tr>
    <tr>
      <th>ì„¤ì¹˜ì—…ì²´</th><td>{{ record.installer_company }}</td>
      <th>ì„¤ì¹˜ì</th><td>{{ record.installer_name }}</td>
    </tr>
    <tr>
      <th>ìš”ì²­ì</th><td>{{ record.requester }}</td>
      <th>ë‹´ë‹¹ì</th><td>{{ record.officer }}</td>
    </tr>
  </table>

  <!-- 2. ìœ„ì¹˜ ë° ë‚ ì§œ -->
  <table class="table table-bordered">
    <tr class="section-title"><td colspan="4">2. ì„¤ì¹˜ ìœ„ì¹˜ ë° ì¼ì</td></tr>
    <tr>
      <th>ì„¤ì¹˜ì¼ì</th><td>{{ record.date }}</td>
      <th>ì„¤ì¹˜ ìœ„ì¹˜</th><td>{{ record.location_text }}</td>
    </tr>
    <tr>
      <th>ìœ„ë„ / ê²½ë„</th><td colspan="3">{{ record.latitude }}, {{ record.longitude }}</td>
    </tr>
  </table>

  <!-- 3. ì„¤ì¹˜ ì‚¬ìœ  -->
  <table class="table table-bordered">
    <tr class="section-title"><td colspan="4">3. ì„¤ì¹˜ ì‚¬ìœ </td></tr>
    <tr><td colspan="4">{{ record.install_reason }}</td></tr>
  </table>

  <!-- 4. ì„¤ì¹˜ ì‚¬ì§„ -->
  <div class="section-title">4. ì„¤ì¹˜ ì‚¬ì§„</div>
  <div class="row">
    {% for label, path in [
      ('ì„¤ì¹˜ ì „', record.before_image_path),
      ('VPN ì†ë„ ì¸¡ì •', record.vpnspeed_image_path),
      ('5G ë¼ìš°í„° ì„¤ì¹˜', record.router_image_path),
      ('ì„¤ì¹˜ í›„', record.after_image_path)
    ] %}
      {% if path %}
      <div class="col-md-6 img-box">
        <p class="fw-bold">{{ label }}</p>
        <img src="{{ url_for('static', filename=path) }}" alt="{{ label }}">
      </div>
      {% endif %}
    {% endfor %}
  </div>

  <!-- 5. ì„œëª…ë€ -->
  <table class="table table-bordered mt-4">
    <tr class="section-title"><td colspan="4">5. ì„¤ì¹˜ í™•ì¸ ì„œëª…</td></tr>
    <tr>
      <th>ì„¤ì¹˜ì ì„œëª…</th>
      <td class="signature-box text-center">
        {% if record.installer_signature_path %}
          <img src="{{ url_for('static', filename=record.installer_signature_path) }}" alt="ì„¤ì¹˜ì ì„œëª…">
        {% else %} (ì„œëª… ì—†ìŒ) {% endif %}
      </td>
      <th>í™•ì¸ì ì„œëª…</th>
      <td class="signature-box text-center">
        {% if record.confirmer_signature_path %}
          <img src="{{ url_for('static', filename=record.confirmer_signature_path) }}" alt="í™•ì¸ì ì„œëª…">
        {% else %} (ì„œëª… ì—†ìŒ) {% endif %}
      </td>
    </tr>
  </table>

  <div class="text-end btn-back">
    <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">â† ëª©ë¡ìœ¼ë¡œ</a>
  </div>
</div>

</body>
</html>
